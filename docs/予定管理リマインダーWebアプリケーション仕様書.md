
##  0. アプリ名

remindFlow

## 1. プロジェクト概要

日毎の予定を管理し、設定に基づいたリマインダー通知を提供するWebアプリケーション。データはローカルストレージに保存され、オフラインでも利用可能。

## 2. 要件定義

### 2.1 基本要件

- **対応ブラウザ**: 主要モダンブラウザ（Chrome, Firefox, Safari, Edge）
    
- **データ保存**: ブラウザのローカルストレージを使用
    
- **レスポンシブデザイン**: スマートフォン、タブレット、PCに対応
    
- **オフライン動作**: サービスワーカーによるオフライン対応
    

### 2.2 機能要件

#### 2.2.1 予定管理機能

- **予定登録**
    
    - 必須項目: 件名、日程、時間
        
    - オプション項目: 詳細内容、優先度（高/中/低）
        
    - 繰り返し予定設定: 日次/週次/月次/年次（終了日指定で自動生成）
    
    - 終了時間: 任意指定（開始時間より後であること）
        
    - カテゴリ分類: 仕事/個人/家族など
        
- **予定編集・削除**
    
    - 登録済み予定の編集機能
        
    - 一括削除機能
        
    - ドラッグ＆ドロップによる日程変更
        

#### 2.2.2 通知機能

- **リマインダー設定**
    
    - 通知タイミング: 0分前〜24時間前（5分単位で設定）
        
    - デフォルト通知時間設定
        
    - 予定ごとの個別通知設定
        
- **通知オプション**
    
    - 通知音: 複数パターンから選択
        
    - 通知表示時間: 5〜60秒間表示
        
    - 通知の繰り返し間隔設定
        
- **ブラウザ通知**
    
    - ブラウザの通知APIを活用
        
    - 通知許可のリクエスト機能
        
    - 通知クリック時の該当予定表示

##### 通知メニュー（ヘッダー）
- 赤いドットは「当日これからのリマインダー件数＋未読履歴件数 > 0」の場合に表示
- メニュー項目: 今すぐチェック / テスト通知 / 通知の有効化・無効化 / 権限リクエスト / 通知履歴の表示

##### 実装状況（通知）
- 通知許可リクエスト、当日分のリマインダー定期チェック、通知音指定、設定からの有効/無効切替は実装済み
- 音声ファイルは `public/sounds/{chime,bell,notification}.mp3` を配置
- 通知履歴: 表示モーダルを実装（既読化・全削除、直近100件）
        

#### 2.2.3 表示機能

- **一覧表示**
    
    - 日次/週次/月次ビュー切替
        
    - ソート機能: 時間順/優先度順/件名順
        
    - フィルタ機能: カテゴリ別/優先度別
        
- **カレンダー表示**
    
    - 月間カレンダービュー
        
    - 週間カレンダービュー
        
    - 予定の有無を視覚的に表示

##### 実装状況（表示）
- ダッシュボード（統計/今日/直近の予定）・カレンダー（月/週）・一覧（検索/フィルタ/ソート/一括操作・ステータスフィルタ）を実装済み
- ダッシュボードの直近の予定: 今日より後の7日以内（今日除外）、日付→時間の昇順、最大5件（フィルタ適用後の予定が対象）
        
- **表示カスタマイズ**
    
    - 文字サイズ調整: 小/中/大
        
    - カラーテーマ: ライト/ダーク/カスタム
        
    - 優先度に応じた色分け表示
        

#### 2.2.4 データ管理

- **ローカルストレージ**
    
    - 予定データの暗号化保存
        
    - 定期的なバックアップ機能
        
    - ストレージ使用量表示
        
- **インポート/エクスポート**
    
    - CSV形式でのデータ出力（列: 件名/日付/開始時間/終了時間/カテゴリ/優先度/ステータス/詳細）
        
    - カレンダーファイル（.ics）エクスポート対応（設定モーダルから出力）
        
    - データ復元機能（JSONバックアップ/インポート対応済み）

##### 実装状況（データ管理）
- 設定モーダルからCSVエクスポート、ICSエクスポート、JSONバックアップ出力/インポートを実装済み
- CSV列: 件名/日付/開始時間/終了時間/カテゴリ/優先度/ステータス/詳細（`utils/storage.ts`）
        

### 2.3 提案追加機能

- **クイック予定登録**: 自然言語処理による簡易登録
    
- **統計表示**: 予定の時間帯分析、カテゴリ別割合
    
- **ショートカットキー**: キーボード操作の効率化
    
- **検索機能**: 予定内容の全文検索（現状: 件名・詳細の部分一致 + 高度検索（日付範囲/AND・OR））
    
- **SNS連携**: 予定の共有機能（オプション）
    
- **天気情報表示**: 予定日の天気予報連携
    

## 3. 技術仕様

### 3.1 アーキテクチャ

- **フロントエンド**: React 19 + TypeScript
    
- **ストレージ**: LocalStorage API
    
- **通知**: Web Notifications API
    
- **オフライン**: Service Worker
    

### 3.2 データ構造

```javascript
// 予定データ例
{
  id: "unique_id",
  title: "会議",
  description: "プロジェクト進捗報告",
  date: "2024-01-15",
  time: "14:00",
  endTime: "15:00",
  category: "work",
  priority: "high",
  status: "pending",
  reminder: {
    enabled: true,
    minutesBefore: 15,
    sound: "chime",
    repeat: false
  },
  recurrence: {
    type: "none", // none/daily/weekly/monthly/yearly
    endDate: "2024-03-01"
  }
}
```

## 4. ユーザーインターフェース

### 4.1 画面構成

1. **ダッシュボード画面**
    
    - 当日の予定一覧
        
    - 直近のリマインダー
        
    - クイック予定登録
        
2. **カレンダー画面**
    
    - 月間/週間表示
        
    - 予定のドラッグ＆ドロップ
        
3. **予定一覧画面**
    
    - 検索・フィルタ機能
        
    - 一括操作機能
        
4. **設定画面**
    
    - 通知設定（有効/無効、デフォルト分前、通知音、表示秒数）
        
    - 表示設定（テーマ、フォントサイズ）
        
    - データ管理（CSV/ICSのエクスポート、JSONバックアップ/インポート）
        
    - 作成時デフォルト（デフォルトのカテゴリ）

## 7. 実装状況サマリ

- 設定モーダル: 通知/表示/データ管理を実装済み
- 繰り返し予定: 終了日指定時に自動生成を実装済み
- クイックアクション: カレンダー表示/通知設定の導線を実装済み
- JSON/CSV インポート/エクスポート: 実装済み
        

## 5. 非機能要件

### 5.1 パフォーマンス

- 初期読み込み時間: 3秒以内
    
- 予定登録応答時間: 1秒以内
    
- 1000件以上の予定でも快適動作
    

### 5.2 ユーザビリティ

- 直感的な操作感
    
- アクセシビリティ対応（WCAG 2.1準拠）
    
- タッチ操作への最適化
    

## 6. 今後の拡張性

- PWA（Progressive Web App）化
    
- クラウド同期機能（オプション）
    
- 音声入力対応
    
- マルチ言語対応
